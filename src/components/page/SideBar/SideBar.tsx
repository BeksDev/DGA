'use client';

import Link from 'next/link';
import { useState } from 'react';
import { usePathname } from 'next/navigation';

const menuItems: { icon: string; text: string; href: string }[] = [
  {
    icon: `<svg width="24" height="24" viewBox="0 0 24 24"  xmlns="http://www.w3.org/2000/svg">
    <mask id="mask0_1007_11045" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="24" height="24">
    <rect width="24" height="24" fill="#D9D9D9"/>
    </mask>
    <g mask="url(#mask0_1007_11045)">
    <path d="M8.05 16H19.45C19.5333 16 19.6043 15.9707 19.663 15.912C19.721 15.854 19.75 15.7833 19.75 15.7V4.3C19.75 4.21667 19.721 4.14567 19.663 4.087C19.6043 4.029 19.5333 4 19.45 4H17.75V9.75C17.75 9.93333 17.675 10.0667 17.525 10.15C17.375 10.2333 17.2167 10.2333 17.05 10.15L15.5 9.2L13.95 10.15C13.7833 10.2333 13.625 10.2333 13.475 10.15C13.325 10.0667 13.25 9.93333 13.25 9.75V4H8.05C7.96667 4 7.896 4.029 7.838 4.087C7.77933 4.14567 7.75 4.21667 7.75 4.3V15.7C7.75 15.7833 7.77933 15.854 7.838 15.912C7.896 15.9707 7.96667 16 8.05 16ZM8.05 17.5C7.55 17.5 7.125 17.325 6.775 16.975C6.425 16.625 6.25 16.2 6.25 15.7V4.3C6.25 3.8 6.425 3.375 6.775 3.025C7.125 2.675 7.55 2.5 8.05 2.5H19.45C19.95 2.5 20.375 2.675 20.725 3.025C21.075 3.375 21.25 3.8 21.25 4.3V15.7C21.25 16.2 21.075 16.625 20.725 16.975C20.375 17.325 19.95 17.5 19.45 17.5H8.05ZM4.55 21C4.05 21 3.625 20.825 3.275 20.475C2.925 20.125 2.75 19.7 2.75 19.2V7.05C2.75 6.85 2.821 6.675 2.963 6.525C3.10433 6.375 3.28333 6.3 3.5 6.3C3.71667 6.3 3.89567 6.375 4.037 6.525C4.179 6.675 4.25 6.85 4.25 7.05V19.2C4.25 19.2833 4.27933 19.3543 4.338 19.413C4.396 19.471 4.46667 19.5 4.55 19.5H16.7C16.9 19.5 17.075 19.5707 17.225 19.712C17.375 19.854 17.45 20.0333 17.45 20.25C17.45 20.4667 17.375 20.646 17.225 20.788C17.075 20.9293 16.9 21 16.7 21H4.55ZM8.05 4H7.75H19.75H19.45H8.05Z" />
    </g>
    </svg>
    `,
    text: 'ჩანართები',
    href: '/dashboard',
  },
  {
    icon: `
    <svg width="24" height="24" viewBox="0 0 24 24"  xmlns="http://www.w3.org/2000/svg">
    <mask id="mask0_1007_11052" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="24" height="24">
    <rect width="24" height="24" fill="#D9D9D9"/>
    </mask>
    <g mask="url(#mask0_1007_11052)">
    <path d="M2.6998 19.3002C2.4498 19.3002 2.23714 19.2169 2.0618 19.0502C1.88714 18.8835 1.7998 18.6669 1.7998 18.4002V17.0752C1.7998 16.5585 1.93314 16.1002 2.1998 15.7002C2.46647 15.3002 2.8248 14.9835 3.2748 14.7502C4.2248 14.3002 5.17914 13.9462 6.1378 13.6882C7.09581 13.4295 8.1498 13.3002 9.2998 13.3002C10.4498 13.3002 11.5041 13.4295 12.4628 13.6882C13.4208 13.9462 14.3748 14.3002 15.3248 14.7502C15.7748 14.9835 16.1331 15.3002 16.3998 15.7002C16.6665 16.1002 16.7998 16.5585 16.7998 17.0752V18.4002C16.7998 18.6669 16.7125 18.8835 16.5378 19.0502C16.3625 19.2169 16.1498 19.3002 15.8998 19.3002H2.6998ZM18.3998 19.3002C18.5331 19.2002 18.6331 19.0712 18.6998 18.9132C18.7665 18.7545 18.7998 18.5835 18.7998 18.4002V16.9502C18.7998 16.3002 18.6371 15.6792 18.3118 15.0872C17.9871 14.4959 17.5331 13.9835 16.9498 13.5502C17.6165 13.6502 18.2498 13.8042 18.8498 14.0122C19.4498 14.2209 20.0248 14.4669 20.5748 14.7502C21.0915 15.0335 21.4915 15.3629 21.7748 15.7382C22.0581 16.1129 22.1998 16.5169 22.1998 16.9502V18.4002C22.1998 18.6669 22.1125 18.8835 21.9378 19.0502C21.7625 19.2169 21.5498 19.3002 21.2998 19.3002H18.3998ZM9.2998 11.7002C8.33314 11.7002 7.50814 11.3542 6.8248 10.6622C6.14147 9.97086 5.7998 9.1502 5.7998 8.2002C5.7998 7.23353 6.14147 6.40853 6.8248 5.7252C7.50814 5.04186 8.33314 4.7002 9.2998 4.7002C10.2665 4.7002 11.0915 5.04186 11.7748 5.7252C12.4581 6.40853 12.7998 7.23353 12.7998 8.2002C12.7998 9.1502 12.4581 9.97086 11.7748 10.6622C11.0915 11.3542 10.2665 11.7002 9.2998 11.7002ZM17.9248 8.2002C17.9248 9.1502 17.5831 9.97086 16.8998 10.6622C16.2165 11.3542 15.3915 11.7002 14.4248 11.7002C14.3248 11.7002 14.1871 11.6875 14.0118 11.6622C13.8371 11.6375 13.6915 11.6085 13.5748 11.5752C13.9748 11.0919 14.2791 10.5629 14.4878 9.9882C14.6958 9.41286 14.7998 8.81686 14.7998 8.2002C14.7998 7.56686 14.6915 6.96686 14.4748 6.4002C14.2581 5.83353 13.9581 5.30853 13.5748 4.8252C13.7081 4.7752 13.8498 4.74186 13.9998 4.7252C14.1498 4.70853 14.2915 4.7002 14.4248 4.7002C15.3915 4.7002 16.2165 5.04186 16.8998 5.7252C17.5831 6.40853 17.9248 7.23353 17.9248 8.2002ZM3.2998 17.8002H15.2998V17.0752C15.2998 16.8752 15.2458 16.6919 15.1378 16.5252C15.0291 16.3585 14.8665 16.2169 14.6498 16.1002C13.8165 15.6835 12.9665 15.3625 12.0998 15.1372C11.2331 14.9125 10.2998 14.8002 9.2998 14.8002C8.2998 14.8002 7.36247 14.9125 6.4878 15.1372C5.61247 15.3625 4.76647 15.6835 3.9498 16.1002C3.71647 16.2169 3.5498 16.3585 3.4498 16.5252C3.3498 16.6919 3.2998 16.8752 3.2998 17.0752V17.8002ZM9.2998 10.2002C9.8498 10.2002 10.3208 10.0042 10.7128 9.6122C11.1041 9.22086 11.2998 8.7502 11.2998 8.2002C11.2998 7.6502 11.1041 7.1792 10.7128 6.7872C10.3208 6.39586 9.8498 6.2002 9.2998 6.2002C8.7498 6.2002 8.27914 6.39586 7.8878 6.7872C7.4958 7.1792 7.2998 7.6502 7.2998 8.2002C7.2998 8.7502 7.4958 9.22086 7.8878 9.6122C8.27914 10.0042 8.7498 10.2002 9.2998 10.2002Z" />
    </g>
    </svg>
    
    
    `,
    text: 'მომხმარებლები',
    href: '/dashboard/customers',
  },
  {
    icon: `<svg width="24" height="24" viewBox="0 0 24 24"  xmlns="http://www.w3.org/2000/svg">
  <mask id="mask0_1007_11069" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="24" height="24">
  <rect width="24" height="24" fill="#D9D9D9"/>
  </mask>
  <g mask="url(#mask0_1007_11069)">
  <path d="M4.3 20.5C3.8 20.5 3.375 20.325 3.025 19.975C2.675 19.625 2.5 19.2 2.5 18.7V8.3C2.5 7.8 2.675 7.375 3.025 7.025C3.375 6.675 3.8 6.5 4.3 6.5H8.5V4.8C8.5 4.3 8.675 3.875 9.025 3.525C9.375 3.175 9.8 3 10.3 3H13.7C14.2 3 14.625 3.175 14.975 3.525C15.325 3.875 15.5 4.3 15.5 4.8V6.5H19.7C20.2 6.5 20.625 6.675 20.975 7.025C21.325 7.375 21.5 7.8 21.5 8.3V18.7C21.5 19.2 21.325 19.625 20.975 19.975C20.625 20.325 20.2 20.5 19.7 20.5H4.3ZM4.3 19H19.7C19.7667 19 19.8333 18.9667 19.9 18.9C19.9667 18.8333 20 18.7667 20 18.7V8.3C20 8.23333 19.9667 8.16667 19.9 8.1C19.8333 8.03333 19.7667 8 19.7 8H4.3C4.23333 8 4.16667 8.03333 4.1 8.1C4.03333 8.16667 4 8.23333 4 8.3V18.7C4 18.7667 4.03333 18.8333 4.1 18.9C4.16667 18.9667 4.23333 19 4.3 19ZM10 6.5H14V4.8C14 4.73333 13.9667 4.66667 13.9 4.6C13.8333 4.53333 13.7667 4.5 13.7 4.5H10.3C10.2333 4.5 10.1667 4.53333 10.1 4.6C10.0333 4.66667 10 4.73333 10 4.8V6.5Z"/>
  </g>
  </svg>
  `,
    text: 'როლები',
    href: '/dashboard/roles',
  },
];

const Sidebar: React.FC = () => {
  const pathName = usePathname();

  const [folded, setFolded] = useState<boolean>(false);

  return (
    <>
      <div
        className={`${
          folded ? 'w-[288px] shadow-xl bg-white' : 'w-[60px]'
        } sidebar h-[100%]  transition-all overflow-hidden rounded-xl bg-white `}
      >
        <div className="flex flex-col justify-between">
          <div>
            <div
              className={`${'w-max pt-2 pb-0 flex space-x-[8px] transition-all items-center'} ${
                folded ? 'px-[20px]' : 'px-[15px]'
              }`}
            >
              <img
                src="/assets/sidebarlogo.svg"
                className="cursor-pointer"
                alt="logo"
                onClick={() => setFolded(!folded)}
              />
              <span className="text-[9px] font-semibold caseon">
                პოლიტიკის დაგეგმვისა და კორდინაციის <br /> მართვის ელექტრონული სისტემა
              </span>
            </div>
            <ul className=" mt-[68px]">
              {menuItems?.map((item, key) => (
                <li
                  key={key}
                  className={`group min-w-max hover:bg-[#F5F8FF] border-2 border-transparent hover:border-l-blue-600 hover:fill-blue-600 mb-3 ${
                    pathName == item?.href && 'bg-[#F5F8FF] border-l-blue-600 fill-blue-600'
                  }`}
                >
                  <Link
                    href={`${item.href}?title=${item.text}`}
                    className={`${'flex items-center space-x-[18px] py-3 transition-all'} ${
                      folded ? 'px-3' : 'px-[16px]'
                    }`}
                  >
                    <div dangerouslySetInnerHTML={{ __html: item.icon }} />
                    <span className="group-hover:text-blue-600 caseon">{item.text}</span>
                  </Link>
                </li>
              ))}
            </ul>
          </div>
        </div>
      </div>
    </>
  );
};

export default Sidebar;
